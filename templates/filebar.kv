<OneUIFileBar>:
    cols: 2
    adaptive_height: True
    size_hint: 1, None
    row_default_height: dp(50)
    row_force_default: True
    file_url: file_url
    OneUITextField:
        id: file_url
        hint_text: "Path of the data file i.e. /user/data/email.json"
        size_hint_y: None
        height: dp(50)

    OneUIBox:
        orientation: "vertical"
        padding: 3
        size_hint: ( None, 1 )
        width: dp(100)
        md_bg_color: OneUIColors.Background.value
        size_hint: None, None
        size: dp(50), dp(50)
        MDIconButton:
            icon: "file-search"
            theme_text_color: "Custom"
            text_color: [1, 1, 1, 1]
            on_release: root.open_popup()


<OneUIFileChoosePopup>:
    title: "Select file"
    size_hint: .7, .7
    auto_dismiss: False
    separator_color: [ 0, 0, 0, 0 ]
    title_size: "20dp"
    OneUIBox:

        FileChooser:
            id: file_chooser
            FileChooserIconLayout

        OneUIBox:
            orientation: "horizontal"
            size_hint: (1, 0.1)
            pos_hint: {'center_x': .5, 'center_y': .5}
            spacing: 20
            OneUIButton:
                size_hint: None, None
                width: dp(100)
                height: dp(40)
                border_radius: [0]
                text: "Cancel"
                back_color: [ 1, 0, 0, 0.7 ]
                on_release: root.dismiss()
            OneUIButton:
                size_hint: None, None
                width: dp(100)
                height: dp(40)
                border_radius: [0]
                text: "Load"
                back_color: app.theme_cls.primary_color
                on_release: root.load(file_chooser.path, file_chooser.selection)
                disabled: True if file_chooser.selection==[] else False